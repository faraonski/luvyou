<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Love You ‚ù§Ô∏è</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    font-family: Arial, sans-serif;
    background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fad0c4, #ff9a9e);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
  }
  @keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  #heart-svg {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 150px;
    height: 150px;
    transform: translate(-50%, -50%);
  }

  #text {
    position: absolute;
    top: 65%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2em;
    font-weight: bold;
    color: black;
    opacity: 0;
    transition: opacity .4s ease;
    text-shadow: 0 2px 6px rgba(0,0,0,.15);
    white-space: pre-wrap;
    text-align: center;
  }

  .heart-drop {
    position: absolute;
    font-size: 16px;
    pointer-events: none;
  }

  #feedback-container {
    position: absolute;
    left: 50%;
    top: 20%;
    transform: translateX(-50%);
    text-align: center;
    font-size: 1.2em;
    background: rgba(255,255,255,0.6);
    padding: 10px 20px;
    border-radius: 15px;
  }

  #toggleSlider {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 1000;
    padding: 8px 15px;
    font-size: 1em;
    border-radius: 10px;
    cursor: pointer;
  }
</style>
</head>
<body>
  <!-- Shortcut dugme negdje na glavnoj stranici -->
<button id="music-shortcut" style="position:absolute; top:calc(70% + 20px); left:50%; transform:translateX(-50%); padding:10px 20px; font-size:16px; cursor:pointer;">üéµ Muzika</button>


<!-- Audio tag -->
<audio id="song"></audio>

<script>
const musicShortcut = document.getElementById('music-shortcut');
const audio = document.getElementById('song');

const refreni = [
  'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',
  'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',
  'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3'
];

musicShortcut.addEventListener('click', () => {
  // Oƒçisti cijelu stranicu
  document.body.innerHTML = '';

  // Kreiraj novi div za muziku
  const musicDiv = document.createElement('div');
  musicDiv.style.width = '100vw';
  musicDiv.style.height = '100vh';
  musicDiv.style.display = 'flex';
  musicDiv.style.flexDirection = 'column';
  musicDiv.style.justifyContent = 'center';
  musicDiv.style.alignItems = 'center';
  musicDiv.style.background = 'linear-gradient(-45deg, #ff9a9e, #fad0c4, #fad0c4, #ff9a9e)';
  musicDiv.style.backgroundSize = '400% 400%';
  musicDiv.style.animation = 'gradientBG 15s ease infinite';
  document.body.appendChild(musicDiv);

  // Naslov
  const title = document.createElement('h1');
  title.textContent = 'üéµ Pusti refren!';
  title.style.color = 'white';
  title.style.marginBottom = '30px';
  musicDiv.appendChild(title);

  // Play/Pause dugme
  const playBtn = document.createElement('button');
  playBtn.textContent = 'Play / Pause';
  playBtn.style.fontSize = '20px';
  playBtn.style.padding = '10px 20px';
  playBtn.style.cursor = 'pointer';
  musicDiv.appendChild(playBtn);

  // Pustimo random pjesmu odmah
  const r = refreni[Math.floor(Math.random() * refreni.length)];
  audio.src = r;
  audio.play();

  playBtn.addEventListener('click', () => {
    if (audio.paused) audio.play();
    else audio.pause();
  });

});

// Animacija backgrounda (isto kao kod glavne stranice)
const style = document.createElement('style');
style.innerHTML = `
@keyframes gradientBG {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}`;
document.head.appendChild(style);
</script>


<!-- SVG SRCE -->
<svg id="heart-svg" viewBox="0 0 32 29.6" aria-hidden="true">
  <path d="M23.6,0c-2.6,0-5,1.5-6.6,3.8C15.4,1.5,13,0,10.4,0C4.7,0,0,4.7,0,10.4c0,6.6,6.7,11.6,16,19.2
  c9.3-7.6,16-12.6,16-19.2C32,4.7,27.3,0,23.6,0z" fill="red"/>
</svg>

<!-- Komplimenti -->
<div id="text">Love you ‚ù§Ô∏è</div>

<!-- Slider iznad srca -->
<div id="feedback-container">
  <label for="loveSlider">How much do you love me today? ‚ù§Ô∏è</label><br>
  <input type="range" id="loveSlider" min="0" max="10" value="5">
  <span id="loveValue">5</span>/10
</div>

<!-- Shortcut dugme -->
<button id="toggleSlider">‚ù§Ô∏è Slider</button>

<script>
const heart = document.getElementById('heart-svg');
const text  = document.getElementById('text');
const loveSlider = document.getElementById('loveSlider');
const loveValue = document.getElementById('loveValue');
const sliderContainer = document.getElementById('feedback-container');
const toggleBtn = document.getElementById('toggleSlider');

/* Pulsiranje srca */
let scale = 1, growing = true;
function pulseHeart() {
  scale += growing ? 0.01 : -0.01;
  if (scale >= 1.2) growing = false;
  if (scale <= 1.0) growing = true;
  heart.style.transform = `translate(-50%, -50%) scale(${scale})`;
  requestAnimationFrame(pulseHeart);
}
pulseHeart();

/* Komplimenti ispod srca */
const topLines = [
  "You have beautiful eyes ‚ù§Ô∏è",
  "You are cuteüíñ",
  "You are valuable to me üåü",
  "Beauty üòç",
  "Your smile brightens the day ‚ú®",
  "My love üíï",
  "Nice hair today ‚òÄÔ∏è",
  "ur cute üíì",
  "Making my day sweet üå∏",
  "My favv üòò"
];
function sleep(ms){ return new Promise(r=>setTimeout(r, ms)); }
async function typeWrite(el, str, speed=70) {
  el.style.opacity = 0;
  await sleep(150);
  el.textContent = "";
  el.style.opacity = 1;
  for (const ch of str) {
    el.textContent += ch;
    await sleep(speed);
  }
}
(async function cycleTopText(){
  let idx = 0;
  while (true) {
    await typeWrite(text, topLines[idx], 70);
    await sleep(1400);
    idx = (idx + 1) % topLines.length;
  }
})();

/* Ki≈°a srca */
const colors = ["red", "pink", "purple", "blue", "green", "yellow"];
function createHeart() {
  const h = document.createElement('div');
  h.classList.add('heart-drop');
  h.textContent = '‚ù§Ô∏è';
  h.style.left = Math.random() * window.innerWidth + 'px';
  h.style.top = '-20px';
  h.style.color = colors[Math.floor(Math.random() * colors.length)];
  h.style.fontSize = (10 + Math.random() * 20) + 'px';
  document.body.appendChild(h);
  return h;
}
function animateHearts() {
  const h = createHeart();
  let y = -20;
  const speed = 1 + Math.random() * 3;
  function fall() {
    y += speed;
    h.style.top = y + 'px';
    if (y < window.innerHeight) requestAnimationFrame(fall);
    else h.remove();
  }
  fall();
}
setInterval(animateHearts, 200);

/* Nasumiƒçne poruke dolje */
const reasons = [
  "Your smile brightens my day üíñ",
"You are the most beautiful thing that has ever happened to me ü•π",
"No one understands me like you üëÑ",
"I love your sincere eyes the mostüëÄ",
"You are beautiful even when you are angryüíñ",
"Your eyes are like light in the darkness ‚ú®",
"With you I feel peace and happiness üåô",
"You are my peace in a chaotic world üé∂",
"Every moment with you is special üå∏",
"You are beautiful even when you don't see it üòç",
"With you, time stands still‚ò∫Ô∏è",
"Your smile is my cure for everythingü•∞",
"You are my greatest happinessü•µ",
"You are my dearest dreamü§§",
];
const reasonDiv = document.createElement('div');
reasonDiv.style.position = 'absolute';
reasonDiv.style.bottom = '20px';
reasonDiv.style.left = '50%';
reasonDiv.style.transform = 'translateX(-50%)';
reasonDiv.style.fontSize = '1.5em';
reasonDiv.style.fontWeight = 'bold';
reasonDiv.style.color = 'black';
reasonDiv.style.textShadow = '0 2px 6px rgba(0,0,0,.15)';
reasonDiv.style.textAlign = 'center';
document.body.appendChild(reasonDiv);
function showRandomReason() {
  const r = reasons[Math.floor(Math.random() * reasons.length)];
  reasonDiv.textContent = r;
}
showRandomReason();
setInterval(showRandomReason, 5000);

/* Klik ‚Äì eksplozija srca */
document.body.addEventListener('click', (e) => {
  for (let i = 0; i < 20; i++) {
    const h = document.createElement('div');
    h.classList.add('heart-drop');
    h.textContent = '‚ù§Ô∏è';
    h.style.left = e.clientX + (Math.random() * 100 - 50) + 'px';
    h.style.top  = e.clientY + (Math.random() * 100 - 50) + 'px';
    h.style.color = colors[Math.floor(Math.random() * colors.length)];
    h.style.fontSize = (10 + Math.random() * 20) + 'px';
    document.body.appendChild(h);
    let y = parseInt(h.style.top, 10);
    let x = parseInt(h.style.left, 10);
    const speedY = Math.random() * 3 + 1;
    const speedX = (Math.random() - 0.5) * 4;
    function fly() { y += speedY; x += speedX; h.style.top = y + 'px'; h.style.left = x + 'px'; if (y < window.innerHeight + 50) requestAnimationFrame(fly); else h.remove(); }
    fly();
  }
});

/* Slider ‚Äì prikaz vrijednosti i shortcut dugme */
loveSlider.addEventListener('input', () => {
  loveValue.textContent = loveSlider.value;
});

toggleBtn.addEventListener('click', ()=>{
  if(sliderContainer.style.display === 'none') sliderContainer.style.display = 'block';
  else sliderContainer.style.display = 'none';
});

// Feedback tekstovi za svaki broj slidera
const loveFeedback = {
0: "Uh... so bad üòÖ",
1: "You're a bit stingy with love üò¢",
2: "Hmm, it could be better üòï",
3: "Still a bit cold üòê",
4: "Ok, but it could be better üòå",
5: "Average, but enough to make me happy üòÑ",
6: "Beautiful, I feel the love üíñ",
7: "So beautiful, my heart melts ü•∞",
8: "Awesome, I feel so much love üòç",
9: "Oooo, this is almost perfect ü´∂",
10: "Wow! Love to the max! ‚ù§Ô∏èüî•"
};

// Kada slider promijeni vrijednost, prikazuje se feedback
loveSlider.addEventListener('input', () => {
  const value = loveSlider.value;
  loveValue.textContent = value;
  // Prika≈æi feedback ispod slidera
  let feedbackEl = document.getElementById('loveFeedback');
  if (!feedbackEl) {
    feedbackEl = document.createElement('div');
    feedbackEl.id = 'loveFeedback';
    feedbackEl.style.marginTop = '10px';
    feedbackEl.style.fontWeight = 'bold';
    sliderContainer.appendChild(feedbackEl);
  }
  feedbackEl.textContent = loveFeedback[value];
});

</script>


</body>
</html>
